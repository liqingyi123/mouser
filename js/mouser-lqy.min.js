(function(a,b){var c,d={drawType:1,leaveAutoer:!0,showTime:20,maxWidth:20,minWidth:5,color:"#F8EC85"},e=function(a){this.options=Object.assign(d,a),this.init()};e.prototype={init:function(){c=this,c.createDom()},changeModel:function(a){this.options=Object.assign(this.options,a),b.getElementById("mouser-style").remove(),b.getElementById("mouser").remove(),this.createDom()},createDom:function(){var f=Math.cos,h=Math.min,d=Math.round,g=Math.sin,j=Math.PI,e=b.createElement("style");e.type="text/css",e.id="mouser-style",e.innerHTML="body{width:100vw;min-height:100vh;padding:0;margin:0;}",b.getElementsByTagName("head").item(0).appendChild(e);var i=b.createElement("canvas");i.id="mouser",i.style="position: fixed;top: 0;left: 0;width: 100%;height: 100%;z-index: 999;pointer-events: none;",b.body.appendChild(i);var k=b.getElementById("mouser"),l=k.getContext("2d");switch(k.width=a.innerWidth,k.height=a.innerHeight,k.clipContent=!1,c.options.drawType){case 1:var m=[],n=k.width/2,o=k.height/2,p=1,q=0,r=0,s=0,u=c.options.maxWidth,v=c.options.minWidth,w=2*j,x=0,y=!0,z=1,A=c.options.showTime;b.body.addEventListener("mouseleave",e),b.body.addEventListener("mousemove",i);function e(){y=!!c.options.leaveAutoer}function i(a){var b=Math.abs;y=!1,(b(n-a.clientX)>p||b(o-a.clientY)>p)&&(n=a.clientX,o=a.clientY)}var B=[],C=[],D=[];let t=128,I=127;for(let a=0;a<A;a++)B[a]=d(g(.3*a+0)*I+t),C[a]=d(g(.3*a+2)*I+t),D[a]=d(g(.3*a+4)*I+t);let J=h(k.width,k.height)/50;var E=k.width/2+0*J,F=k.height-(k.height/2+5*J);for(let a=0;a<A;a++){m.push({x:E,y:F})}function K(){x+=.08,x%=w,s<=v&&(z=1,s=v+1),s>=u&&(z=-1,s=u-1),r++,5==r&&(q++,q%=A,r=0),s=z+s,y&&(J=h(k.width,k.height)/50,n=k.width/2+J*(16*g(x)*g(x)*g(x)),o=k.height-(k.height/2+J*(13*f(x)-5*f(2*x)-2*f(3*x)-f(4*x)))),k.width=a.innerWidth,k.height=a.innerHeight;for(let a=m.length-1;0<a;a--)m[a].x=m[a-1].x,m[a].y=m[a-1].y;m[0].x=n,m[0].y=o,l.lineWidth=s,l.strokeStyle="rgb("+B[q]+","+C[q]+","+D[q]+")",l.fillStyle="rgb("+B[q]+","+C[q]+","+D[q]+")",l.beginPath(),l.arc(m[0].x,m[0].y,s/2,0,w),l.fill(),l.beginPath(),l.moveTo(m[0].x,m[0].y);for(let a=0;a<m.length-2;a++){var b=(m[a].x+m[a+1].x)/2,c=(m[a].y+m[a+1].y)/2;l.quadraticCurveTo(m[a].x,m[a].y,b,c)}l.stroke(),l.beginPath(),l.arc(b,c,s/2,0,w),l.fill(),a.requestAnimationFrame(K)}a.requestAnimationFrame(K);break;case 2:var G=function(){function c(c,d,e){this;this.renderList=[],this.needClear=!0,k.width=d||b.documentElement.clientWidth,k.height=e||b.documentElement.clientHeight,a.onresize=function(){k.width=d||b.documentElement.clientWidth,k.height=e||b.documentElement.clientHeight}}return a.requestAnimationFrame=function(){return a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame||a.oRequestAnimationFrame||a.msRequestAnimationFrame||function(b){a.setTimeout(b,1e3/60)}}(),c.prototype.update=function(){var a=this;a.needClear&&l.clearRect(0,0,k.width,k.height),a.renderList.forEach(function(a){a(l,k)}),requestAnimationFrame(function(){a.update()})},c.prototype.onUpdate=function(a){this.renderList.push(a)},c}();;var H=function(){function c(b,c,e){this.initSymbols(b,c,e),this.particles=[],this._pool=[],this.mouse=new d}function d(a,b){this.x=a||0,this.y=b||0}function k(b,c,d){this.color=o(b),this.size=2*(c+d);for(var e=0,f=p.length;f>e;e++)this.push(this._createSymbol(p[e],c,d))}function m(b,c,d,e,a,f){this.init(b,c,d,e,a,f)}function q(b,c,d,e,a){return"rgba"===b?"rgba("+c+","+d+","+e+","+a+")":"hsla"===b?"hsla("+c+","+d+"%,"+e+"%,"+a+")":""}if(!l)return $.noop;var p=[4,6,8,10,12];c.prototype={mouse:null,gravity:.035,initSymbols:function(b,c,d){this._symbols=new k(b,c,d)},render:function(j){var k,q,t,z,A,B,C,D,E,F,G,H,J,K,L,N=this.particles,f=this.mouse,v=this.gravity,b=this._symbols,M=this._symbols.length,x=this._symbols.size,O=.5*this._symbols.size,w=j.canvas.width,I=j.canvas.height;if(k=h(.005*(f.speedX*f.speedX+f.speedY*f.speedY),1),2500>N.length)for(q=.5+4.5*k,t=.1+.5*k,z=.5+.5*k,K=(0|3*Math.random())+(0|20*k),J=0;K>J;J++)this._createParticle(t,q,z);for(E=.5*-w,F=1.5*w,G=.5*-I,H=1.5*I,J=0,K=N.length;K>J;J++)L=N[J],L.vx+=.03*f.speedX*k,L.vy+=.03*f.speedY*k+v,L.x+=L.vx+f.speedX,L.y+=L.vy+f.speedY,L.scale-=.005,L.angle+=Math.random(),L.x+O<E||L.x-O>F||L.y+O<G||L.y-O>H||0>=L.scale?(this._pool.push(L),N.splice(J,1),K--,J--):(D=L.scale,A=b[0|M*Math.random()],.7>Math.random()&&(D*=.2),B=x*D,C=.5*B,j.save(),j.globalCompositeOperation="lighter",j.translate(L.x,L.y),j.rotate(L.angle),j.drawImage(A,0,0,x,x,-C,-C,B,B),j.restore());j.fill(),f.speedX=f.speedY=0},_createParticle:function(a,b,c){var d=a+(b-a)*Math.random(),e=2*j*Math.random(),i=this._pool.length?this._pool.shift():new m;i.init(this.mouse.x,this.mouse.y,d*f(e),d*g(e),c*Math.random(),2*j*Math.random()),this.particles.push(i)}},d.prototype={x:0,y:0,speedX:0,speedY:0,update:function(a,b){this.speedX=.7*(this.x-a),this.speedY=.7*(this.y-b),this.x=a,this.y=b}},k.prototype=[],k.prototype._createSymbol=function(i,k,m){var e,s,t=this.size,h=this.size/2,n=this.color;e=b.createElement("canvas"),e.width=e.height=t,s=e.getContext("2d"),s.fillStyle=q(n[0],n[1],n[2],n[3],n[4]),s.shadowBlur=m,s.shadowColor=q(n[0],n[1],n[2],n[3],.75*n[4]);var r,u,v,w;for(s.beginPath(),r=1,u=2*i;u>=r;r++)v=r%2?.1*k:k,w=2*j*r/u,s[1===r?"moveTo":"lineTo"](h+v*f(w),h+v*g(w));return s.fill(),e},m.prototype.init=function(b,c,d,e,a,f){this.x=b||0,this.y=c||0,this.vx=d||0,this.vy=e||0,this.scale=a||0,this.angle=f||0};var o=function(){return function(a){a=a.replace(/^\s*#|\s*$/g,""),a=a.toLowerCase();var b;return(b=a.match(/^rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/)||a.match(/^rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d\.]+)\s*\)$/))?["rgba",parseInt(b[1],10),parseInt(b[2],10),parseInt(b[3],10),parseFloat(4===b.length?1:b[4])]:(b=a.match(/^hsl\(\s*([\d\.]+)\s*,\s*([\d\.]+)%\s*,\s*([\d\.]+)%\s*\)$/)||a.match(/^hsla\(\s*([\d\.]+)\s*,\s*([\d\.]+)%\s*,\s*([\d\.]+)%\s*,\s*([\d\.]+)\s*\)$/))?["hsla",parseFloat(b[1]),parseFloat(b[2]),parseFloat(b[3]),parseFloat(4===b.length?1:b[4])]:(3===a.length&&(a=a.replace(/(.)/g,"$1$1")),(b=a.match(/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/))?["rgba",parseInt(b[1],16),parseInt(b[2],16),parseInt(b[3],16),1]:null)}}();return c}();;(function(){var a=new G("mouser"),d=new H(c.options.color,14,1);d.mouse.update(0,0),b.body.addEventListener("mousemove",function(a){d.mouse.update(a.clientX,a.clientY)}),a.onUpdate(function(a){d.render(a)}),a.update()})();break;default:}}},a.Mouser=e})(window,document);